<div class="p-6">
  <h2 class="text-xl font-semibold mb-4">Historial</h2>

  <!-- Filtros -->
  <div class="flex items-center gap-x-2 mb-4 overflow-x-auto">
    <input
      type="text"
      [(ngModel)]="filtroMatricula"
      placeholder="Buscar por matrícula"
      class="border rounded px-2 py-2 w-full md:w-1/4"
    />
    <input
      type="text"
      [(ngModel)]="filtroFolio"
      placeholder="Buscar por folio"
      class="border rounded px-2 py-2 w-full md:w-1/4"
    />
    <input
      type="date"
      [(ngModel)]="fechaDesde"
      class="border rounded px-2 py-2 w-full md:w-1/4"
      placeholder="Fecha desde"
    />
    <input
      type="date"
      [(ngModel)]="fechaHasta"
      class="border rounded px-2 py-2 w-full md:w-1/4"
      placeholder="Fecha hasta"
    />
    <button
      (click)="limpiarFiltros()"
      class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700"
      title="Limpiar filtros"
    >
      Limpiar filtros
    </button>
  </div>

  <table class="min-w-full bg-white rounded shadow overflow-hidden">
    <thead>
      <tr class="bg-gray-200 text-left">
        <th class="px-4 py-2">Fecha</th>
        <th class="px-4 py-2">Folio</th>
        <th class="px-4 py-2">Matrícula del Operador</th>
        <th class="px-4 py-2 text-center">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of historialFiltrado(); let i = index" class="border-t hover:bg-gray-100">
        <td class="px-4 py-2">{{ item.fecha }}</td>
        <td class="px-4 py-2">{{ item.folio }}</td>
        <td class="px-4 py-2">{{ item.operador }}</td>
        <td class="px-4 py-2 text-center space-x-2">
          <a [href]="item.url" download class="bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600">
            Descargar
          </a>
          <button (click)="eliminarPliego(item)" class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600">
            Eliminar
          </button>
        </td>
      </tr>
      <tr *ngIf="historialFiltrado().length === 0">
        <td colspan="4" class="px-4 py-4 text-center text-gray-500">No se encontraron resultados.</td>
      </tr>
    </tbody>
  </table>
</div>
